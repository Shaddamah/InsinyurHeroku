(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{57:function(t,a,i){"use strict";i.r(a);function s(){return{giverating:{ip:"",score:null,user:null,rating:null},martabakdata:[],ratingmartabak:[],ratinguser:[],ratingdata:[],errored:!1,loading:!0,currentM:null,ratingip:"",checked:null}}var e={components:{modal:function(){return i.e(4).then(i.bind(null,68))},menuslider:function(){return i.e(3).then(i.bind(null,76))}},name:"Detail",data:s,created:function(){this.getData()},computed:{already_rate:function(){return this.giverating.ip==this.ratingip?this.checked=!0:this.checked=!1,this.checked}},methods:{getData:function(){var a=this;this.$axios.get("https://api.ipify.org/?format=json").then(function(t){a.giverating.ip=t.data.ip}),this.$axios.get("/api/martabak/").then(function(t){a.martabakdata=t.data.filter(function(t){return t.slug.includes(a.$route.params.name)})}),this.$axios.get("/api/rating/").then(function(t){a.ratingmartabak=t.data}),this.$axios.get("/api/userrating/").then(function(t){a.ratinguser=t.data}).catch(function(t){console.log(t),a.errored=!0}).finally(function(){return setTimeout(function(){return a.loading=!1},500)})},rate:function(){this.$axios.post("/api/userrating/",this.giverating).then(function(t){}).catch(function(t){console.log(t.response)}),location.reload()}},watch:{$route:function(){Object.assign(this.$data,s()),this.getData()}}},n=i(3),r=Object(n.a)(e,function(){var i=this,t=i.$createElement,s=i._self._c||t;return s("div",{staticClass:"detail"},[i.loading?s("section",[i._m(0),i._v(" "),i._m(1)]):i._e(),i._v(" "),s("vue-page-transition",{attrs:{name:"fade-in-up"}},i._l(i.martabakdata,function(t){return s("section",{key:t.id,attrs:{id:"detailmartabak"}},[s("div",{staticClass:"container-fluid row p-0 m-0 mb-5"},[s("img",{staticClass:"thumbnail fit-cover",attrs:{src:t.image,alt:t.name}})]),i._v(" "),s("div",{staticClass:"container-fluid row p-0 m-0 my-5"},i._l(i.ratingmartabak,function(a){return s("div",{key:a.average,staticClass:"col-10 col-md-8 mx-auto my-auto p-0"},[a.object_id==t.id?s("div",{attrs:{cm:i.currentM=t.id}},[i._l(i.ratinguser,function(t){return s("div",{key:t},[t.rating==a.id?s("div",[i.giverating.ip==t.ip?s("div",[s("div",{attrs:{ur:i.userrating=t.score}}),i._v(" "),s("div",{attrs:{rip:i.ratingip=t.ip}})]):i._e()]):i._e()])}),i._v(" "),s("div",{attrs:{rid:i.giverating.rating=a.id}},[s("p",{staticClass:"display-5 mt-5 mb-0"},[i._v(i._s(t.name))]),i._v(" "),s("star-rating",{staticClass:"my-3",attrs:{rating:parseFloat(a.average),"read-only":!0,increment:.1,"star-size":32}}),i._v(" "),s("div",{staticClass:"h2 my-3"},[s("p",{staticClass:"inline-block text-dark mr-3"},[i._v(i._s("Rp. "+t.price))])]),i._v(" "),s("div",[s("button",{staticClass:"btn btn-primary btn-lg px-5 py-3",attrs:{"data-toggle":"modal","data-target":"#buymethod"}},[i._v("\n            Pesan Sekarang\n          ")]),null!==i.already_rate?s("button",{staticClass:"btn btn-dark btn-lg px-5 py-3",attrs:{"data-toggle":"modal","data-target":"#startrating"}},[i._v("\n            Berikan Rating\n          ")]):i._e()]),i._v(" "),s("modal",{attrs:{id:"startrating",title:"Berikan Rating"}},[i.already_rate?i._e():s("div",{staticClass:"row p-2 m-0 mb-3"},[s("star-rating",{attrs:{increment:.5,"star-size":46,"text-class":"custom-text"},on:{"rating-selected":function(t){return i.rate()}},model:{value:i.giverating.score,callback:function(t){i.$set(i.giverating,"score",t)},expression:"giverating.score"}})],1),i._v(" "),i.already_rate?s("div",{staticClass:"row p-2 m-0"},[s("star-rating",{attrs:{rating:i.userrating,"read-only":!0,increment:.5,"star-size":46}})],1):i._e(),i._v(" "),i.already_rate?s("div",{staticClass:"p-2 mt-2 mb-3"},[i._v("Kamu telah memberikan rating "+i._s(i.userrating+" untuk "+t.name))]):i._e()]),i._v(" "),s("modal",{attrs:{id:"buymethod",title:"Pilih Layanan Pemesanan"}},[s("div",{staticClass:"row m-0"},[s("div",{staticClass:"col-12 mx-auto"},[s("p",{staticClass:"lead2 mb-4"},[i._v("\n                    Pilih cabang yang paling dekat dengan lokasi kamu saat ini! "),s("a",{staticClass:"text-warning",attrs:{href:"https://www.google.com/maps/search/Insinyur+Martabak"}},[i._v("Tidak tau dimana? klik disini!")])])]),i._v(" "),s("div",{staticClass:"col-12 mx-auto"},[s("p",{staticClass:"lead3"},[i._v("Kiaracondong")]),i._v(" "),s("div",[s("a",{staticClass:"btn btn-primary px-5 py-3",attrs:{href:""}},[i._v("GoFood")]),s("a",{staticClass:"btn btn-dark px-5 py-3",attrs:{href:"https://food.grab.com/id/id/restaurant/insinyur-martabak-ir-martabak-babakan-sari-delivery/IDGFSTI000013nr"}},[i._v("GrabFood")])])]),i._v(" "),s("div",{staticClass:"col-12 mx-auto"},[s("p",{staticClass:"lead3 mt-3"},[i._v("Cibaduyut")]),i._v(" "),s("div",[s("a",{staticClass:"btn btn-primary px-5 py-3",attrs:{href:""}},[i._v("GoFood")]),s("a",{staticClass:"btn btn-dark px-5 py-3",attrs:{href:""}},[i._v("GrabFood")])])]),i._v(" "),s("div",{staticClass:"col-12 mx-auto"},[s("p",{staticClass:"lead3 mt-3"},[i._v("Cijerah")]),i._v(" "),s("div",[s("a",{staticClass:"btn btn-primary px-5 py-3",attrs:{href:"https://gofood.co.id/bahasa/bandung/restaurant/insinyur-martabak-ir-martabak-cijerah-01b2ca13-eecb-4c5a-8835-207ba3e8e59f"}},[i._v("GoFood")]),s("a",{staticClass:"btn btn-dark px-5 py-3",attrs:{href:""}},[i._v("GrabFood")])])]),i._v(" "),s("div",{staticClass:"col-12 mx-auto mb-4"},[s("p",{staticClass:"lead3 mt-3"},[i._v("Tubagus Ismail Raya (GrabFood Only)")]),i._v(" "),s("div",[s("a",{staticClass:"btn btn-dark px-5 py-3",attrs:{href:"https://food.grab.com/id/id/restaurant/%F0%9F%8C%A1%EF%B8%8F%F0%9F%9B%A1%EF%B8%8Finsinyur-martabak-tubagus-ismail-grabkitchen-delivery/6-CYVFLE3CJETYNE"}},[i._v("GrabFood")])])])])])],1),i._v(" "),a.object_id==t.id?s("div",{staticClass:"my-5 px-0 py-4 px-md-4"},[s("label",{staticClass:"lead3"},[i._v("Nama")]),i._v(" "),s("p",[i._v(i._s(t.name))]),i._v(" "),s("label",{staticClass:"lead3"},[i._v("Harga")]),i._v(" "),s("p",[i._v(i._s("Rp "+t.price))]),i._v(" "),s("label",{staticClass:"lead3"},[i._v("Rating")]),i._v(" "),s("p",[i._v(i._s(parseFloat(a.average)+"/5"))]),i._v(" "),s("label",{staticClass:"lead3"},[i._v("Ukuran Tersedia")]),i._v(" "),s("p",[i._v(i._s(t.Size))]),i._v(" "),s("label",{staticClass:"lead3"},[i._v("Deskripsi")]),i._v(" "),s("p",[i._v(i._s(t.deskripsi))])]):i._e()],2):i._e()])}),0)])}),0),i._v(" "),s("menuslider",{staticClass:"py-3 py-md-5",attrs:{currentMartabak:i.currentM}})],1)},[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"container-fluid row p-0 m-0 mb-5"},[a("div",{staticClass:"skeleton-thumbnail"})])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"container-fluid row p-0 m-0 my-5"},[i("div",{staticClass:"col-10 col-md-8 mx-auto my-auto p-0"},[i("p",{staticClass:"display-5 mt-5 mb-0 skeleton-txt"},[t._v("Martabak Super")]),t._v(" "),i("div",{staticClass:"h2 my-3"},[i("p",{staticClass:"inline-block mr-3 skeleton-txt"},[t._v("Rp. 30000")])]),t._v(" "),i("div",[i("button",{staticClass:"btn btn-skeleton btn-lg px-5 py-3",attrs:{"data-toggle":"modal","data-target":"#buymethod"}},[t._v("\n          Pesan Sekarang\n        ")]),i("button",{staticClass:"btn btn-skeleton btn-lg px-5 py-3"},[t._v("\n          Berikan Rating\n        ")])]),t._v(" "),i("div",{staticClass:"my-5 px-0 py-4 px-md-4"},[i("label",{staticClass:"lead3 skeleton-txt"},[t._v("Rating")]),t._v(" "),i("label",{staticClass:"lead3 skeleton-txt"},[t._v("Ukuran Tersedia")]),t._v(" "),i("p",{staticClass:"skeleton-txt"},[t._v("Small")]),t._v(" "),i("label",{staticClass:"lead3 skeleton-txt"},[t._v("Deskripsi")])])])])}],!1,null,null,null);a.default=r.exports}}]);